## 상속 vs 구성

### 다형성이란?

자바에서는 상속과 비슷한 기법으로 `구성` 이 있다.
상속은 한 객체가 클래스를 상속받아서 부모 객체의 필드를 획득할 수 있고,
`구성은 하나의 클래스를 다른 클래스의 합으로 정의` 한다. << 무슨 뜻인지 확실히 이해 불가

상속은 부모 클래스를 변경하면 코드가 손상될위험이 있지만,
구성은 비교적 느슨하게 결합되어 구성 요소를 더 쉽게 변경할 수 있다.

그렇기에 느슨하게 결합된 구성이 더좋은게 아니냐고 할 순 있지만
때에 따라 맞는 기법을 사용해야 한다.

> 상속

1. `"is-a"` 관계
2. 하나의 클래스만 상속할 수 있으므로 하나의 클래스에서만 코드를 재사용할 수 있음
3. 컴파일 시간에 결정됨
4. final로 선언된 클래스의 코드를 재사용할 수 없음
5. 부모 클래스의 public 및 protected 메소드를 모두 노출함

> 구성

1. `"has-a"` 관계
2. 여러 클래스에서 코드를 재사용할 수 있음
3. 실행 시간에 결정될 수 있음
4. final로 선언된 클래스에서도 코드 재사용이 가능함
5. 아무것도 노출되지 않고, 공개 인터페이스만을 사용하여 상호작용함

<hr style="height:5px">

### "is-a"

is-a 관계는 `"A는 B의 일종이다"` 라고 말하는 것과 같음
즉 `상속관계`를 뜻함
상속관계에서 부모클래스와 자식클래스는 강한 연관관계가 생겨
부모 클래스의 변경이 자식 클래스에게도 영향을 미친다.

<hr style="height:5px">

### "has-a"

has-a 관계는 포함관계다.
상속관계를 부모-자식으로 얘기한다면
구성관계는 도서관-책처럼 `(도서관이 책을 보유하고 있는)` 보유관계에서 사용한다.

```
class Vehicle {}
class Engine {}
class Brake {}

public class Car3 extends  Vehicle {
    private Engine e;
    private Brake b;
    public Car3() {
        this.e = new Engine();
        this.b = new Brake();
    }
}
```

위 예시소스처럼 상속과 구성관계를 잘 파악하여 잘못사용하는일이 없도록 해야 함
Vehicle는 Car의 부모에 속하여 상속을 선택했고,
Engine, Brake는 그의 부속품으로써 포함관계에 속하니 구성을 선택했다.

<hr style="height:5px">

### 구성 vs 집합

구성과 유사한 집합이라는 관계가 있음
A와 B객체가 있다고 했을시,
구성 : A는 B를 포함한다. 그러므로 `A의 소멸과 함께 B도 소멸`된다.

```
public class A {
  private B b = new B();
  public A() {}
}
```

집합 : A 클래스는 B를 포함한다. 그러나, 각자 독자적인 객체로써 `소멸주기도 독립적`이다.

```
public class A {
  private B b;
  public A( B b ) { this.b = b; }
}
```

A 클래스의 인스턴스에 대한 참조가 존재하지 않더라도 B 클래스의 인스턴스는 소멸되지 않는다.
그러므로 B 클래스를 재사용할 수 있다.

<hr style="height:5px">

이번챕터는 기법보다는 단순 클래스간의 관계개념을 알려주는듯
`상속` / `구성` / `집합`

상속 : `부모자식관계`
구성 : 부모자식관계처럼 유전자가 일부 동일하진 않지만, `포함`하고 있는 관계
집합 : `각자 독자적으로 존재함과 동시에 포함`하는 관계
