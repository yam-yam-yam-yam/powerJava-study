## 객체의 생성과 소멸

### 객체의 소멸과 가비지 컬렉션

자바는 객체를 생성하는 연산자는 있지만, 삭제하는 연산자는 없다.
C++ 와 같은 특정 언어에서는 `프로그래머가 직접 객체의 삭제를 수행해 메모리를 관리` 한다.

한편 자바는 NEW 연산자에 의해 `히프 메모리` 에 할당된다.
`히프 메모리` 란 jvm이 가지고 있는 가용 메모리를 뜻하며 이 메모리도 무한하지 않기 떄문에,
`사용하지 않는 객체들을 삭제하여 메모리를 확보` 하는 것이 필요함.

자바에는 삭제 연산자가 없는 대신 `가비지 컬렉션` 을 사용한다.
`가비지 컬렉션` 은 사용하지 않는 메모리를 자동으로 비워주는데
메모리를 할당 받은 객체가 어디에도 참조되지 않을 때에 `가비지 컬렉션의 후보` 가 된다.

```
Television tv1 = new Television();
Television tv2 = new Television();
tv2 = tv1;
```

tv2가 가리키고 있던 인스턴스는 tv1의 데이터로 뒤엎어졌기때문에 필요가 없게 되어버렸다.

<hr style="height:5px">

### 가비지 컬렉션

`가비지 컬렉션` 이 수행될 때는 자바 애플리케이션이 모든 동작을 멈춘다.
이는 개발자가 느낄만큼의 영항을 보여줄 수도 있으므로 이에 대해 알고 있어야 한다.

JVM중 가장 대표적인 것은 오라클의 `HotSpot` 이며
`HotSpot` 는 많은 가비지 컬렉션 옵션을 제공함

이외에도 여러 가비지 컬렉터가 있지만,
모든 가비지 컬렉터는 동일한 아래의 프로세스를 따른다.

1. 참조되지 않은 객체가 식별되고 가비지 컬렉션이 준비됨
2. 표시된 객체가 삭제됨
3. `히프 메모리` 를 압축하여 새 객체에 메모리를 할당하기 쉽게 준비함

<hr style="height:5px">

### 가비지 컬렉션 요청

#### 요청하는 법

개발자는 System 객체의 gc() 메소드를 호출해서 가비지 컬렉션을 요청할 수 있음
하지만 가비지 컬렉터가 수행되면 다른 어플리케이션이 멈추기 때문에 실행 여부는 전적으로 JVM이 판단함.

<hr style="height:5px">

#### 가비지 컬렉션 조정하기

가비지 컬렉션의 가장 중요한 점 중 하나는
개발자가 `언제 가비지 컬렉션이 일어나는지 예측할 수 없다` 는 점이다.
System.gc() 와 같은 메소드를 이용해 실행요청은 할 수 있지만,
`실제로 수행될지는 모르는 상황.`

그렇다면 가비지 컬렉션을 개발자가 조정하는 방법은?
=> `히프 메모리의 초기 및 최대 크기를 조정` 함

책에서는 위와 같이 적혀있는데
크기를 늘린다고 세세하게 조정이 되나?
그냥 쓰레기호출하는 타이밍을 늦추는게 아닌가 싶어서 추가 조사함

<hr style="height:5px">

#### 가비지 컬렉션 조정하기 + (구글링)

자바를 가볍게 배우는 스터디이므로 빡세게 들어가진 않겠음

추가로

1.  jvm option 설정
2.  visualVM 도구 활용
    이라는 힌트를 얻었음

3.  `jvm option`
    jvm option 설정으로 `-XX:+ExplicitGCInvokesConcurrent` 라는 옵션을 사용하면 가비지 수집시에 애플리케이션을 멈추지 않고, `병행적으로 가비지 수집` 을 수행하는 듯 함

4.  `visualVM`
    visualVM 이라는 프로파일링 도구를 사용해서 가비지 수집동작을 모니터링 및 분석 할 수 있음
    설명만 들으면 `조정보다는 분석` 쪽에 가까운 것 같다.

위 2가지 내용은 확인되지 않은 내용임
